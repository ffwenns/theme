<!doctype html>
<html lang="de" class="overflow-auto! scroll-smooth bg-gray-200 antialiased">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="{{ .Description }}" />

    {{ hugo.Generator }}


    <link rel="preconnect" href="https://ffwenns.at" />

    <link rel="preload" fetchpriority="high" as="image" href="/header.webp" type="image/webp" />
    <link rel="preload" href="/fonts/roboto.woff2" as="font" type="font/woff2" crossorigin />

    <link rel="alternate" type="application/rss+xml" href="https://ffwenns.at/index.xml" title="{{ site.Title }}" />
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />

    <title>
      {{ if .IsHome }}
        {{ site.Title }}
      {{ else }}
        {{ printf "%s | %s" .Title site.Title }}
      {{ end }}
    </title>

    <style>
      @font-face {
        font-family: "Roboto";
        font-style: normal;
        font-weight: 100 900;
        font-stretch: 75% 100%;
        font-display: swap;
        src: url("/fonts/roboto.woff2") format("woff2");
      }
    </style>

    {{- if hugo.IsDevelopment }}
      {{- with resources.Get "css/output.css" }}
        <link rel="stylesheet" href="{{ .RelPermalink }}" />
      {{- end }}
    {{- else }}
      {{- with resources.Get "css/output.css" }}
    <style>
      {{ .Content | safeCSS }}
    </style>
      {{- end }}
    {{- end }}
  </head>
  <body id="{{ with .Params.layout }}{{ . }}{{ else }}{{ trim (replace .RelPermalink "/" "-") "-" }}{{ end }}" class="mx-auto mr-auto! max-w-[80rem] bg-white">
    {{ partial "header.html" . }}
    {{ partial "nav.html" . }}
    {{ partial "cover.html" . }}


    <div class="page">
      {{ block "nav" . }}
        <div>
          <nav class="sticky top-[72px] z-5 bg-blue-100 p-4">
            <h3 class="mb-4 text-2xl font-semibold text-blue-600">{{ .CurrentSection.Title }}</h3>

            {{ $currentPage := . }}
            {{ range site.Menus.main }}
              <ul class="text-xl">
                {{ if $currentPage.HasMenuCurrent "main" . }}
                  {{ range .Children }}
                    <li class="{{ if $currentPage.IsMenuCurrent "main" . }}font-bold bg-blue-200{{ end }} flex flex-row items-baseline justify-between">
                      <a href="{{ .URL }}" class="{{ if $currentPage.IsMenuCurrent "main" . }}font-semibold{{ end }}">
                        {{ .Name }}
                        {{ with .Params.desc }}
                          ({{ . }})
                        {{ end }}
                      </a>
                    </li>
                  {{ end }}
                {{ end }}
              </ul>
            {{ end }}
          </nav>
        </div>
      {{ end }}


      <main>
        <h1>{{ .Title }}</h1>

        {{ block "main" . }}{{ end }}
      </main>
    </div>

    {{ partial "footer.html" . }}


    <script>
      const hamburger = document.getElementById("hamburger").parentElement;
      const menu = document.getElementById("menu");

      hamburger.addEventListener("click", () => {
        hamburger.classList.toggle("open");
        menu.classList.toggle("open");
      });

      const summaryElements = document.querySelectorAll("#footer summary");

      summaryElements.forEach((summary) => {
        summary.addEventListener("click", () => {
          window.setTimeout(() => {
            document.querySelector("#end").scrollIntoView({ behavior: "smooth" });
          }, 320);
        });
      });
    </script>

    {{- with resources.Get "js/fslightbox.js" }}
      <script src="{{ .RelPermalink }}" defer></script>
    {{- end }}
  </body>
</html>
